import './polyfills.server.mjs';
import{$ as T,A as l,Aa as Ie,B as v,Ba as Je,C as bt,Ca as Ot,D as $e,E as qe,F as L,Fa as Rt,G,H as _,I as K,J as c,Ja as kt,K as J,Ka as Pt,L as ze,M as N,Ma as M,N as g,Na as jt,O as Dt,Oa as Ht,P as Vt,Q as a,R as s,S as h,T as We,U as Ze,V as fe,W as wt,X as b,Y as p,Z as u,_ as Xe,a as H,aa as ge,b as gt,ba as w,c as vt,ca as R,d as _t,e as De,ea as Et,f as de,fa as Ee,g as A,h as Z,i as x,j as I,k as f,ka as Ft,l as ce,la as Qe,m as V,ma as Ye,n as X,o as S,oa as Fe,p as Ue,pa as Me,q as yt,qa as Mt,r as Ve,ra as Ae,s as Q,sa as At,t as Y,ta as xt,u as Le,ua as It,v as he,va as St,w as pe,wa as Tt,x as me,xa as Nt,y as Ct,ya as Ke,z as we,za as xe}from"./chunk-OD2IP7YC.mjs";import{a as C,b as E}from"./chunk-VVCT4QZE.mjs";var Gt=(()=>{let e=class e{constructor(){this._Router=f(M)}logOut(){localStorage.removeItem("token"),this._Router.navigate(["/login"])}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=V({type:e,selectors:[["app-navbar"]],standalone:!0,features:[w],decls:20,vars:0,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container"],["routerLink","home",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","w-100","mb-2","mb-lg-0"],[1,"nav-item"],["routerLink","home",1,"nav-link"],["routerLink","signup",1,"nav-link"],["routerLink","login",1,"nav-link"],[1,"nav-item","ms-auto","cp"],[1,"nav-link",3,"click"]],template:function(o,r){o&1&&(a(0,"nav",0)(1,"div",1)(2,"a",2),u(3,"TODO"),s(),a(4,"button",3),h(5,"span",4),s(),a(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),u(10,"Home"),s()(),a(11,"li",7)(12,"a",9),u(13,"signUp"),s()(),a(14,"li",7)(15,"a",10),u(16,"login "),s()(),a(17,"li",11)(18,"a",12),b("click",function(){return r.logOut()}),u(19,"Logout"),s()()()()()())},dependencies:[jt],styles:[".cp[_ngcontent-%COMP%]{cursor:pointer}"]});let i=e;return i})();var Bt=(()=>{let e=class e{constructor(){this.title="todo"}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=V({type:e,selectors:[["app-root"]],standalone:!0,features:[w],decls:2,vars:0,template:function(o,r){o&1&&h(0,"app-navbar")(1,"router-outlet")},dependencies:[Pt,Gt]});let i=e;return i})();var Qt=(()=>{let e=class e{constructor(t,o){this._renderer=t,this._elementRef=o,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,o){this._renderer.setProperty(this._elementRef.nativeElement,t,o)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}};e.\u0275fac=function(o){return new(o||e)(v($e),v(pe))},e.\u0275dir=S({type:e});let i=e;return i})(),Yt=(()=>{let e=class e extends Qt{};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=Le(e)))(r||e)}})(),e.\u0275dir=S({type:e,features:[G]});let i=e;return i})(),nt=new x("");var Ri={provide:nt,useExisting:de(()=>U),multi:!0};function ki(){let i=Qe()?Qe().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var Pi=new x(""),U=(()=>{let e=class e extends Qt{constructor(t,o,r){super(t,o),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!ki())}writeValue(t){let o=t??"";this.setProperty("value",o)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}};e.\u0275fac=function(o){return new(o||e)(v($e),v(pe),v(Pi,8))},e.\u0275dir=S({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(o,r){o&1&&b("input",function(m){return r._handleInput(m.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(m){return r._compositionEnd(m.target.value)})},features:[ge([Ri]),G]});let i=e;return i})();function B(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}function Kt(i){return i!=null&&typeof i.length=="number"}var Jt=new x(""),ei=new x(""),ji=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,y=class{static min(e){return Hi(e)}static max(e){return Gi(e)}static required(e){return Bi(e)}static requiredTrue(e){return Ui(e)}static email(e){return Li(e)}static minLength(e){return $i(e)}static maxLength(e){return qi(e)}static pattern(e){return zi(e)}static nullValidator(e){return ti(e)}static compose(e){return ai(e)}static composeAsync(e){return ui(e)}};function Hi(i){return e=>{if(B(e.value)||B(i))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<i?{min:{min:i,actual:e.value}}:null}}function Gi(i){return e=>{if(B(e.value)||B(i))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>i?{max:{max:i,actual:e.value}}:null}}function Bi(i){return B(i.value)?{required:!0}:null}function Ui(i){return i.value===!0?null:{required:!0}}function Li(i){return B(i.value)||ji.test(i.value)?null:{email:!0}}function $i(i){return e=>B(e.value)||!Kt(e.value)?null:e.value.length<i?{minlength:{requiredLength:i,actualLength:e.value.length}}:null}function qi(i){return e=>Kt(e.value)&&e.value.length>i?{maxlength:{requiredLength:i,actualLength:e.value.length}}:null}function zi(i){if(!i)return ti;let e,n;return typeof i=="string"?(n="",i.charAt(0)!=="^"&&(n+="^"),n+=i,i.charAt(i.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=i.toString(),e=i),t=>{if(B(t.value))return null;let o=t.value;return e.test(o)?null:{pattern:{requiredPattern:n,actualValue:o}}}}function ti(i){return null}function ii(i){return i!=null}function ni(i){return Et(i)?gt(i):i}function oi(i){let e={};return i.forEach(n=>{e=n!=null?C(C({},e),n):e}),Object.keys(e).length===0?null:e}function ri(i,e){return e.map(n=>n(i))}function Wi(i){return!i.validate}function si(i){return i.map(e=>Wi(e)?e:n=>e.validate(n))}function ai(i){if(!i)return null;let e=i.filter(ii);return e.length==0?null:function(n){return oi(ri(n,e))}}function li(i){return i!=null?ai(si(i)):null}function ui(i){if(!i)return null;let e=i.filter(ii);return e.length==0?null:function(n){let t=ri(n,e).map(ni);return _t(t).pipe(vt(oi))}}function di(i){return i!=null?ui(si(i)):null}function Ut(i,e){return i===null?[e]:Array.isArray(i)?[...i,e]:[i,e]}function ci(i){return i._rawValidators}function hi(i){return i._rawAsyncValidators}function et(i){return i?Array.isArray(i)?i:[i]:[]}function Ne(i,e){return Array.isArray(i)?i.includes(e):i===e}function Lt(i,e){let n=et(e);return et(i).forEach(o=>{Ne(n,o)||n.push(o)}),n}function $t(i,e){return et(e).filter(n=>!Ne(i,n))}var Oe=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=li(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=di(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},te=class extends Oe{get formDirective(){return null}get path(){return null}},ye=class extends Oe{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Re=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Zi={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},No=E(C({},Zi),{"[class.ng-submitted]":"isSubmitted"}),ne=(()=>{let e=class e extends Re{constructor(t){super(t)}};e.\u0275fac=function(o){return new(o||e)(v(ye,2))},e.\u0275dir=S({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(o,r){o&2&&ze("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[G]});let i=e;return i})(),oe=(()=>{let e=class e extends Re{constructor(t){super(t)}};e.\u0275fac=function(o){return new(o||e)(v(te,10))},e.\u0275dir=S({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(o,r){o&2&&ze("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[G]});let i=e;return i})();var ve="VALID",Se="INVALID",ee="PENDING",_e="DISABLED";function ot(i){return(He(i)?i.validators:i)||null}function Xi(i){return Array.isArray(i)?li(i):i||null}function rt(i,e){return(He(e)?e.asyncValidators:i)||null}function Qi(i){return Array.isArray(i)?di(i):i||null}function He(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function pi(i,e,n){let t=i.controls;if(!(e?Object.keys(t):t).length)throw new De(1e3,"");if(!t[n])throw new De(1001,"")}function mi(i,e,n){i._forEachChild((t,o)=>{if(n[o]===void 0)throw new De(1002,"")})}var ie=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ve}get invalid(){return this.status===Se}get pending(){return this.status==ee}get disabled(){return this.status===_e}get enabled(){return this.status!==_e}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Lt(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Lt(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators($t(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators($t(e,this._rawAsyncValidators))}hasValidator(e){return Ne(this._rawValidators,e)}hasAsyncValidator(e){return Ne(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ee,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=_e,this.errors=null,this._forEachChild(t=>{t.disable(E(C({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(E(C({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(t=>t(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ve,this._forEachChild(t=>{t.enable(E(C({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(E(C({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ve||this.status===ee)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_e:ve}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ee,this._hasOwnPendingAsyncValidator=!0;let n=ni(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((t,o)=>t&&t._find(o),this)}getError(e,n){let t=n?this.get(n):this;return t&&t.errors?t.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new me,this.statusChanges=new me}_calculateStatus(){return this._allControlsDisabled()?_e:this.errors?Se:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ee)?ee:this._anyControlsHaveStatus(Se)?Se:ve}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){He(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Xi(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Qi(this._rawAsyncValidators)}},ke=class extends ie{constructor(e,n,t){super(ot(n),rt(t,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,t={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){mi(this,!0,e),Object.keys(e).forEach(t=>{pi(this,!0,t),this.controls[t].setValue(e[t],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(t=>{let o=this.controls[t];o&&o.patchValue(e[t],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((t,o)=>{t.reset(e?e[o]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,t)=>(e[t]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,t)=>t._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let t=this.controls[n];t&&e(t,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,t]of Object.entries(this.controls))if(this.contains(n)&&e(t))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,t,o)=>((t.enabled||this.disabled)&&(n[o]=t.value),n))}_reduceChildren(e,n){let t=e;return this._forEachChild((o,r)=>{t=n(t,o,r)}),t}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var tt=class extends ke{};var fi=new x("CallSetDisabledState",{providedIn:"root",factory:()=>st}),st="always";function Yi(i,e){return[...e.path,i]}function qt(i,e,n=st){at(i,e),e.valueAccessor.writeValue(i.value),(i.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(i.disabled),Ji(i,e),tn(i,e),en(i,e),Ki(i,e)}function zt(i,e,n=!0){let t=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(t),e.valueAccessor.registerOnTouched(t)),je(i,e),i&&(e._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function Pe(i,e){i.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Ki(i,e){if(e.valueAccessor.setDisabledState){let n=t=>{e.valueAccessor.setDisabledState(t)};i.registerOnDisabledChange(n),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(n)})}}function at(i,e){let n=ci(i);e.validator!==null?i.setValidators(Ut(n,e.validator)):typeof n=="function"&&i.setValidators([n]);let t=hi(i);e.asyncValidator!==null?i.setAsyncValidators(Ut(t,e.asyncValidator)):typeof t=="function"&&i.setAsyncValidators([t]);let o=()=>i.updateValueAndValidity();Pe(e._rawValidators,o),Pe(e._rawAsyncValidators,o)}function je(i,e){let n=!1;if(i!==null){if(e.validator!==null){let o=ci(i);if(Array.isArray(o)&&o.length>0){let r=o.filter(d=>d!==e.validator);r.length!==o.length&&(n=!0,i.setValidators(r))}}if(e.asyncValidator!==null){let o=hi(i);if(Array.isArray(o)&&o.length>0){let r=o.filter(d=>d!==e.asyncValidator);r.length!==o.length&&(n=!0,i.setAsyncValidators(r))}}}let t=()=>{};return Pe(e._rawValidators,t),Pe(e._rawAsyncValidators,t),n}function Ji(i,e){e.valueAccessor.registerOnChange(n=>{i._pendingValue=n,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&gi(i,e)})}function en(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&gi(i,e),i.updateOn!=="submit"&&i.markAsTouched()})}function gi(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function tn(i,e){let n=(t,o)=>{e.valueAccessor.writeValue(t),o&&e.viewToModelUpdate(t)};i.registerOnChange(n),e._registerOnDestroy(()=>{i._unregisterOnChange(n)})}function nn(i,e){i==null,at(i,e)}function on(i,e){return je(i,e)}function rn(i,e){if(!i.hasOwnProperty("model"))return!1;let n=i.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function sn(i){return Object.getPrototypeOf(i.constructor)===Yt}function an(i,e){i._syncPendingControls(),e.forEach(n=>{let t=n.control;t.updateOn==="submit"&&t._pendingChange&&(n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function ln(i,e){if(!e)return null;Array.isArray(e);let n,t,o;return e.forEach(r=>{r.constructor===U?n=r:sn(r)?t=r:o=r}),o||t||n||null}function un(i,e){let n=i.indexOf(e);n>-1&&i.splice(n,1)}function Wt(i,e){let n=i.indexOf(e);n>-1&&i.splice(n,1)}function Zt(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var Te=class extends ie{constructor(e=null,n,t){super(ot(n),rt(t,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),He(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Zt(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(t=>t(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Wt(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Wt(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Zt(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var dn=i=>i instanceof Te;var re=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=S({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let i=e;return i})(),cn={provide:nt,useExisting:de(()=>lt),multi:!0},lt=(()=>{let e=class e extends Yt{writeValue(t){let o=t??"";this.setProperty("value",o)}registerOnChange(t){this.onChange=o=>{t(o==""?null:parseFloat(o))}}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=Le(e)))(r||e)}})(),e.\u0275dir=S({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(o,r){o&1&&b("input",function(m){return r.onChange(m.target.value)})("blur",function(){return r.onTouched()})},features:[ge([cn]),G]});let i=e;return i})();var vi=new x("");var hn={provide:te,useExisting:de(()=>q)},q=(()=>{let e=class e extends te{constructor(t,o,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new me,this._setValidators(t),this._setAsyncValidators(o)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(je(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let o=this.form.get(t.path);return qt(o,t,this.callSetDisabledState),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),o}getControl(t){return this.form.get(t.path)}removeControl(t){zt(t.control||null,t,!1),un(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,o){this.form.get(t.path).setValue(o)}onSubmit(t){return this.submitted=!0,an(this.form,this.directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{let o=t.control,r=this.form.get(t.path);o!==r&&(zt(o||null,t),dn(r)&&(qt(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let o=this.form.get(t.path);nn(o,t),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let o=this.form.get(t.path);o&&on(o,t)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){at(this.form,this),this._oldForm&&je(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(o){return new(o||e)(v(Jt,10),v(ei,10),v(fi,8))},e.\u0275dir=S({type:e,selectors:[["","formGroup",""]],hostBindings:function(o,r){o&1&&b("submit",function(m){return r.onSubmit(m)})("reset",function(){return r.onReset()})},inputs:{form:[ce.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ge([hn]),G,Ve]});let i=e;return i})();var pn={provide:ye,useExisting:de(()=>z)},z=(()=>{let e=class e extends ye{set isDisabled(t){}constructor(t,o,r,d,m){super(),this._ngModelWarningConfig=m,this._added=!1,this.name=null,this.update=new me,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(o),this._setAsyncValidators(r),this.valueAccessor=ln(this,d)}ngOnChanges(t){this._added||this._setUpControl(),rn(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Yi(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(o){return new(o||e)(v(te,13),v(Jt,10),v(ei,10),v(nt,10),v(vi,8))},e.\u0275dir=S({type:e,selectors:[["","formControlName",""]],inputs:{name:[ce.None,"formControlName","name"],isDisabled:[ce.None,"disabled","isDisabled"],model:[ce.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[ge([pn]),G,Ve]});let i=e;return i})();var mn=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=X({type:e}),e.\u0275inj=Z({});let i=e;return i})(),it=class extends ie{constructor(e,n,t){super(ot(n),rt(t,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,t={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:t.emitEvent})}removeAt(e,n={}){let t=this._adjustIndex(e);t<0&&(t=0),this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,t={}){let o=this._adjustIndex(e);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),n&&(this.controls.splice(o,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){mi(this,!1,e),e.forEach((t,o)=>{pi(this,!1,o),this.at(o).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((t,o)=>{this.at(o)&&this.at(o).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((t,o)=>{t.reset(e[o],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,t)=>t._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,t)=>{e(n,t)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Xt(i){return!!i&&(i.asyncValidators!==void 0||i.validators!==void 0||i.updateOn!==void 0)}var se=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new e;return t.useNonNullable=!0,t}group(t,o=null){let r=this._reduceControls(t),d={};return Xt(o)?d=o:o!==null&&(d.validators=o.validator,d.asyncValidators=o.asyncValidator),new ke(r,d)}record(t,o=null){let r=this._reduceControls(t);return new tt(r,o)}control(t,o,r){let d={};return this.useNonNullable?(Xt(o)?d=o:(d.validators=o,d.asyncValidators=r),new Te(t,E(C({},d),{nonNullable:!0}))):new Te(t,o,r)}array(t,o,r){let d=t.map(m=>this._createControl(m));return new it(d,o,r)}_reduceControls(t){let o={};return Object.keys(t).forEach(r=>{o[r]=this._createControl(t[r])}),o}_createControl(t){if(t instanceof Te)return t;if(t instanceof ie)return t;if(Array.isArray(t)){let o=t[0],r=t.length>1?t[1]:null,d=t.length>2?t[2]:null;return this.control(o,r,d)}else return this.control(t)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var ae=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:vi,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:fi,useValue:t.callSetDisabledState??st}]}}};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=X({type:e}),e.\u0275inj=Z({imports:[mn]});let i=e;return i})();var _i=(()=>{let e=class e{constructor(t){this._HttpClient=t}addNote(t){return this._HttpClient.post("https://note-sigma-black.vercel.app/api/v1/notes",t,{headers:{token:"3b8ny__"+localStorage.getItem("token")}})}getUserNotes(){return this._HttpClient.get("https://note-sigma-black.vercel.app/api/v1/notes",{headers:{token:"3b8ny__"+localStorage.getItem("token")}})}deleteNote(t){return this._HttpClient.delete(`https://note-sigma-black.vercel.app/api/v1/notes/${t}`,{headers:{token:"3b8ny__"+localStorage.getItem("token")}})}updateNote(t,o){return this._HttpClient.put(`https://note-sigma-black.vercel.app/api/v1/notes/${t}`,o,{headers:{token:"3b8ny__"+localStorage.getItem("token")}})}};e.\u0275fac=function(o){return new(o||e)(I(Ae))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var gn=(i,e)=>e._id;function vn(i,e){if(i&1){let n=fe();a(0,"div",4)(1,"div",22)(2,"div",23)(3,"h3",24),u(4),s(),a(5,"p",25),u(6),s(),a(7,"div",26)(8,"button",27),b("click",function(){let o=Q(n).$implicit,r=p();return Y(r.setUpdateNote(o))}),h(9,"i",28),u(10," Update "),s(),a(11,"button",29),b("click",function(){let o=Q(n).$implicit,r=p();return Y(r.deleteNote(o._id))}),h(12,"i",30),u(13," Delete "),s()()()()()}if(i&2){let n=e.$implicit;l(4),Xe(n.title),l(2),Xe(n.content)}}var yi=(()=>{let e=class e{constructor(){this._FormBuilder=f(se),this._NodesService=f(_i),this._ActivatedRoute=f(kt),this.noteList=L([]),this.addNotesForm=this._FormBuilder.group({title:[null,[y.required]],content:[null,[y.required]]}),this.updateNotesForm=this._FormBuilder.group({_id:[null],title:[null,[y.required]],content:[null,[y.required]]})}ngOnInit(){this.getUserNotes()}addNote(){this._NodesService.addNote(this.addNotesForm.value).subscribe({next:t=>{this.addNotesForm.reset(),$("#exampleModal").modal("hide"),this.getUserNotes(),console.log(t)},error:t=>{console.log(t)}})}getUserNotes(){this._NodesService.getUserNotes().subscribe({next:t=>{this.noteList.set(t.notes),console.log(t)},error:t=>{t.error.msg==="no notes found"&&this.noteList.set([]),console.log(t)}})}deleteNote(t){this._NodesService.deleteNote(t).subscribe({next:o=>{this.getUserNotes(),console.log(o)},error:o=>{console.log(o)}})}setUpdateNote(t){$("#updateModal").modal("show"),this.updateNotesForm.patchValue(t)}updateNote(){let{_id:t,content:o,title:r}=this.updateNotesForm.value;t?this._NodesService.updateNote(t,{content:o,title:r}).subscribe({next:d=>{$("#updateModal").modal("hide"),this.getUserNotes(),console.log(d)},error:d=>{console.log(d)}}):console.log("Error: ID is missing")}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=V({type:e,selectors:[["app-home"]],standalone:!0,features:[w],decls:51,vars:2,consts:[["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-primary","btn-lg","rounded-pill","shadow"],[1,"fas","fa-plus"],[1,"container","py-5"],[1,"row","g-4"],[1,"col-md-4"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content","border-0","shadow-lg","rounded-lg"],[1,"modal-header","bg-primary","text-white"],[1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","btn-close-white"],[3,"ngSubmit","formGroup"],[1,"modal-body","p-4"],[1,"mb-3"],["for","title",1,"form-label","fw-bold"],["id","title","type","text","formControlName","title",1,"form-control","rounded-pill","px-3"],["for","content",1,"form-label","fw-bold"],["id","content","formControlName","content","rows","4",1,"form-control","rounded-lg","px-3"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","rounded-pill","px-4"],["type","submit",1,"btn","btn-primary","rounded-pill","px-4"],["id","updateModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"card","bg-light","rounded-lg","shadow","border-0","h-100","hover-zoom"],[1,"card-body","p-4"],[1,"card-title","text-primary","fw-bold"],[1,"card-text","text-muted"],[1,"d-flex","gap-2","mt-4"],[1,"btn","btn-outline-primary","btn-sm","rounded-pill","px-4",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-outline-danger","btn-sm","rounded-pill","px-4",3,"click"],[1,"fas","fa-trash-alt"]],template:function(o,r){o&1&&(a(0,"button",0),h(1,"i",1),u(2,` Add Note
`),s(),a(3,"div",2)(4,"div",3),Dt(5,vn,14,2,"div",4,gn),s()(),a(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"h1",9),u(12,"Add New Note"),s(),h(13,"button",10),s(),a(14,"form",11),b("ngSubmit",function(){return r.addNote()}),a(15,"div",12)(16,"div",13)(17,"label",14),u(18,"Title"),s(),h(19,"input",15),s(),a(20,"div",13)(21,"label",16),u(22,"Content"),s(),h(23,"textarea",17),s()(),a(24,"div",18)(25,"button",19),u(26,"Close"),s(),a(27,"button",20),u(28,"Save Note"),s()()()()()(),a(29,"div",21)(30,"div",6)(31,"div",7)(32,"div",8)(33,"h1",9),u(34,"Update Note"),s(),h(35,"button",10),s(),a(36,"form",11),b("ngSubmit",function(){return r.updateNote()}),a(37,"div",12)(38,"div",13)(39,"label",14),u(40,"Title"),s(),h(41,"input",15),s(),a(42,"div",13)(43,"label",16),u(44,"Content"),s(),h(45,"textarea",17),s()(),a(46,"div",18)(47,"button",19),u(48,"Close"),s(),a(49,"button",20),u(50,"Update Note"),s()()()()()()),o&2&&(l(5),Vt(r.noteList()),l(9),c("formGroup",r.addNotesForm),l(22),c("formGroup",r.updateNotesForm))},dependencies:[ae,re,U,ne,oe,q,z],styles:[".card[_ngcontent-%COMP%]:hover{transform:scale(1.05);transition:transform .3s ease}.hover-zoom[_ngcontent-%COMP%]:hover{transform:scale(1.05);transition:all .3s ease-in-out}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border:none}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.btn-outline-primary[_ngcontent-%COMP%]{border-color:#007bff}.btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:#007bff;color:#fff}.btn-outline-danger[_ngcontent-%COMP%]{border-color:#dc3545}.btn-outline-danger[_ngcontent-%COMP%]:hover{background-color:#dc3545;color:#fff}.modal-content[_ngcontent-%COMP%]{border-radius:20px;padding:20px}.modal-header[_ngcontent-%COMP%]{border-bottom:none}"]});let i=e;return i})();var Ge=(()=>{let e=class e{constructor(t,o){this._HttpClient=t,this._Router=o}signUp(t){return this._HttpClient.post("https://note-sigma-black.vercel.app/api/v1/users/signUp",t)}login(t){return this._HttpClient.post("https://note-sigma-black.vercel.app/api/v1/users/signIn",t)}logOut(){localStorage.removeItem("token"),this._Router.navigate(["/login"])}};e.\u0275fac=function(o){return new(o||e)(I(Ae),I(M))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Ci=(i,e)=>({"is-invalid":i,"is-valid":e});function _n(i,e){if(i&1&&(a(0,"h3",0),u(1),s()),i&2){let n=p();l(),T(" ",n.errorMsg," ")}}function yn(i,e){i&1&&(a(0,"p",8),u(1,"email Is Required"),s())}function Cn(i,e){i&1&&(a(0,"p",8),u(1,"email is not valid"),s())}function bn(i,e){if(i&1&&(a(0,"div"),_(1,yn,2,0,"p",8)(2,Cn,2,0,"p",8),s()),i&2){let n,t,o=p();l(),g(1,(n=o.loginForm.get("email"))!=null&&n.getError("required")?1:-1),l(),g(2,(t=o.loginForm.get("email"))!=null&&t.getError("email")?2:-1)}}function Dn(i,e){i&1&&(a(0,"p",8),u(1,"password Is Required"),s())}function Vn(i,e){i&1&&(a(0,"p",8),u(1,"password is not valid"),s())}function wn(i,e){if(i&1&&(a(0,"div"),_(1,Dn,2,0,"p",8)(2,Vn,2,0,"p",8),s()),i&2){let n,t,o=p();l(),g(1,(n=o.loginForm.get("password"))!=null&&n.getError("required")?1:-1),l(),g(2,(t=o.loginForm.get("password"))!=null&&t.getError("pattern")?2:-1)}}var bi=(()=>{let e=class e{constructor(){this._FormBuilder=f(se),this._AuthService=f(Ge),this._Router=f(M),this.errorMsg="",this.loginForm=this._FormBuilder.group({email:[null,[y.required,y.email]],password:[null,[y.required,y.pattern(/^[a-zA-Z0-9]{4,}$/)]]})}login(){this._AuthService.login(this.loginForm.value).subscribe({next:t=>{localStorage.setItem("token",t.token),this._Router.navigate(["/home"]),console.log(t)},error:t=>{this.errorMsg=t.error.msg,console.log(t)}}),console.log(this.loginForm.value)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=V({type:e,selectors:[["app-login"]],standalone:!0,features:[w],decls:16,vars:13,consts:[[1,"alert","alert-danger","w-25","my-4","text-center","mx-auto"],[1,"w-50","shadow","mx-auto","rounded","my-4","p-4",3,"ngSubmit","formGroup"],[1,"text-center","py-3"],["for","email"],["id","email","type","email","formControlName","email",1,"form-control",3,"ngClass"],["for","pass"],["id","pass","type","password","formControlName","password",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-primary","my-3",3,"disabled"],[1,"alert","alert-danger"]],template:function(o,r){if(o&1&&(_(0,_n,2,1,"h3",0),a(1,"form",1),b("ngSubmit",function(){return r.login()}),a(2,"h2",2),u(3,"Login"),s(),a(4,"div")(5,"label",3),u(6,"Email:"),s(),h(7,"input",4),_(8,bn,3,2,"div"),s(),a(9,"div")(10,"label",5),u(11,"Password:"),s(),h(12,"input",6),_(13,wn,3,2,"div"),s(),a(14,"button",7),u(15,"Login"),s()()),o&2){let d,m,D,k;g(0,r.errorMsg?0:-1),l(),c("formGroup",r.loginForm),l(6),c("ngClass",R(7,Ci,((d=r.loginForm.get("email"))==null?null:d.errors)&&((d=r.loginForm.get("email"))==null?null:d.touched),!((d=r.loginForm.get("email"))!=null&&d.errors))),l(),g(8,(m=r.loginForm.get("email"))!=null&&m.touched?8:-1),l(4),c("ngClass",R(10,Ci,((D=r.loginForm.get("password"))==null?null:D.errors)&&((D=r.loginForm.get("password"))==null?null:D.touched),!((D=r.loginForm.get("password"))!=null&&D.errors))),l(),g(13,(k=r.loginForm.get("password"))!=null&&k.touched?13:-1),l(),c("disabled",r.loginForm.invalid)}},dependencies:[ae,re,U,ne,oe,q,z,Fe]});let i=e;return i})();var Ce=(i,e)=>({"is-invalid":i,"is-valid":e});function En(i,e){if(i&1&&(a(0,"h3",0),u(1),s()),i&2){let n=p();l(),T(" ",n.errMsg," ")}}function Fn(i,e){i&1&&(a(0,"p",14),u(1,"Name Is Required"),s())}function Mn(i,e){i&1&&(a(0,"p",14),u(1,"Name Must Be Greater Than 3 Character"),s())}function An(i,e){if(i&1&&(a(0,"div"),_(1,Fn,2,0,"p",14)(2,Mn,2,0,"p",14),s()),i&2){let n,t,o=p();l(),g(1,(n=o.signupForm.get("name"))!=null&&n.getError("required")?1:-1),l(),g(2,(t=o.signupForm.get("name"))!=null&&t.getError("minlength")?2:-1)}}function xn(i,e){i&1&&(a(0,"p",14),u(1,"email Is Required"),s())}function In(i,e){i&1&&(a(0,"p",14),u(1,"email is not valid"),s())}function Sn(i,e){if(i&1&&(a(0,"div"),_(1,xn,2,0,"p",14)(2,In,2,0,"p",14),s()),i&2){let n,t,o=p();l(),g(1,(n=o.signupForm.get("email"))!=null&&n.getError("required")?1:-1),l(),g(2,(t=o.signupForm.get("email"))!=null&&t.getError("email")?2:-1)}}function Tn(i,e){i&1&&(a(0,"p",14),u(1,"password Is Required"),s())}function Nn(i,e){i&1&&(a(0,"p",14),u(1,"password is not valid"),s())}function On(i,e){if(i&1&&(a(0,"div"),_(1,Tn,2,0,"p",14)(2,Nn,2,0,"p",14),s()),i&2){let n,t,o=p();l(),g(1,(n=o.signupForm.get("password"))!=null&&n.getError("required")?1:-1),l(),g(2,(t=o.signupForm.get("password"))!=null&&t.getError("pattern")?2:-1)}}function Rn(i,e){i&1&&(a(0,"p",14),u(1,"age Is Required"),s())}function kn(i,e){i&1&&(a(0,"p",14),u(1,"age must be greater than 20"),s())}function Pn(i,e){if(i&1&&(a(0,"div"),_(1,Rn,2,0,"p",14)(2,kn,2,0,"p",14),s()),i&2){let n,t,o=p();l(),g(1,(n=o.signupForm.get("age"))!=null&&n.getError("required")?1:-1),l(),g(2,(t=o.signupForm.get("age"))!=null&&t.getError("min")?2:-1)}}function jn(i,e){i&1&&(a(0,"p",14),u(1,"phone Is Required"),s())}function Hn(i,e){i&1&&(a(0,"p",14),u(1,"must be egyptian phone number"),s())}function Gn(i,e){if(i&1&&(a(0,"div"),_(1,jn,2,0,"p",14)(2,Hn,2,0,"p",14),s()),i&2){let n,t,o=p();l(),g(1,(n=o.signupForm.get("phone"))!=null&&n.getError("required")?1:-1),l(),g(2,(t=o.signupForm.get("phone"))!=null&&t.getError("pattern")?2:-1)}}var Di=(()=>{let e=class e{constructor(){this._FormBuilder=f(se),this._AuthService=f(Ge),this._Router=f(M),this.signupForm=this._FormBuilder.group({name:[null,[y.required,y.minLength(3)]],email:[null,[y.required,y.email]],password:[null,[y.required,y.pattern(/^[a-zA-Z0-9]{4,}$/)]],age:[null,[y.required,y.min(20)]],phone:[null,[y.required,y.pattern(/^01[0125][0-9]{8}$/)]]})}signup(){this.signupForm.valid&&(this._AuthService.signUp(this.signupForm.value).subscribe({next:t=>{this._Router.navigate(["/login"]),console.log(t)},error:t=>{this.errMsg=t.error.msg,console.log(t)}}),console.log(this.signupForm.value))}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=V({type:e,selectors:[["app-register"]],standalone:!0,features:[w],decls:31,vars:28,consts:[[1,"alert","alert-danger","w-25","my-4","text-center","mx-auto"],[1,"w-50","shadow","mx-auto","rounded","my-4","p-4",3,"ngSubmit","formGroup"],[1,"text-center","py-3"],["for","name"],["id","name","type","text","formControlName","name",1,"form-control",3,"ngClass"],["for","email"],["id","email","type","email","formControlName","email",1,"form-control",3,"ngClass"],["for","pass"],["id","pass","type","password","formControlName","password",1,"form-control",3,"ngClass"],["for","age"],["id","age","type","number","formControlName","age",1,"form-control",3,"ngClass"],["for","phone"],["id","phone","type","tel","formControlName","phone",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-primary","my-3",3,"disabled"],[1,"alert","alert-danger"]],template:function(o,r){if(o&1&&(_(0,En,2,1,"h3",0),a(1,"form",1),b("ngSubmit",function(){return r.signup()}),a(2,"h2",2),u(3,"Register"),s(),a(4,"div")(5,"label",3),u(6,"Name:"),s(),h(7,"input",4),_(8,An,3,2,"div"),s(),a(9,"div")(10,"label",5),u(11,"Email:"),s(),h(12,"input",6),_(13,Sn,3,2,"div"),s(),a(14,"div")(15,"label",7),u(16,"Password:"),s(),h(17,"input",8),_(18,On,3,2,"div"),s(),a(19,"div")(20,"label",9),u(21,"Age:"),s(),h(22,"input",10),_(23,Pn,3,2,"div"),s(),a(24,"div")(25,"label",11),u(26,"Phone:"),s(),h(27,"input",12),_(28,Gn,3,2,"div"),s(),a(29,"button",13),u(30,"SignUp"),s()()),o&2){let d,m,D,k,F,W,P,be,j,ue;g(0,r.errMsg?0:-1),l(),c("formGroup",r.signupForm),l(6),c("ngClass",R(13,Ce,((d=r.signupForm.get("name"))==null?null:d.errors)&&((d=r.signupForm.get("name"))==null?null:d.touched),!((d=r.signupForm.get("name"))!=null&&d.errors))),l(),g(8,(m=r.signupForm.get("name"))!=null&&m.touched?8:-1),l(4),c("ngClass",R(16,Ce,((D=r.signupForm.get("email"))==null?null:D.errors)&&((D=r.signupForm.get("email"))==null?null:D.touched),!((D=r.signupForm.get("email"))!=null&&D.errors))),l(),g(13,(k=r.signupForm.get("email"))!=null&&k.touched?13:-1),l(4),c("ngClass",R(19,Ce,((F=r.signupForm.get("password"))==null?null:F.errors)&&((F=r.signupForm.get("password"))==null?null:F.touched),!((F=r.signupForm.get("password"))!=null&&F.errors))),l(),g(18,(W=r.signupForm.get("password"))!=null&&W.touched?18:-1),l(4),c("ngClass",R(22,Ce,((P=r.signupForm.get("age"))==null?null:P.errors)&&((P=r.signupForm.get("age"))==null?null:P.touched),!((P=r.signupForm.get("age"))!=null&&P.errors))),l(),g(23,(be=r.signupForm.get("age"))!=null&&be.touched?23:-1),l(4),c("ngClass",R(25,Ce,((j=r.signupForm.get("phone"))==null?null:j.errors)&&((j=r.signupForm.get("phone"))==null?null:j.touched),!((j=r.signupForm.get("phone"))!=null&&j.errors))),l(),g(28,(ue=r.signupForm.get("phone"))!=null&&ue.touched?28:-1),l(),c("disabled",r.signupForm.invalid)}},dependencies:[ae,re,U,lt,ne,oe,q,z,Fe]});let i=e;return i})();var Vi=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=V({type:e,selectors:[["app-notfound"]],standalone:!0,features:[w],decls:2,vars:0,template:function(o,r){o&1&&(a(0,"p"),u(1,"notfound works!"),s())}});let i=e;return i})();var wi=(i,e)=>{let n=f(M);return typeof localStorage<"u"?localStorage.getItem("token")?!0:(n.navigate(["/login"]),!1):!1};var dt=(i,e)=>{let n=f(M);return typeof localStorage<"u"?localStorage.getItem("token")?(n.navigate(["/home"]),!1):!0:!1};var Ei=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",canActivate:[wi],component:yi},{path:"login",canActivate:[dt],component:bi},{path:"signup",canActivate:[dt],component:Di},{path:"**",component:Vi}];var Fi=["toast-component",""];function Bn(i,e){if(i&1){let n=fe();a(0,"button",5),b("click",function(){Q(n);let o=p();return Y(o.remove())}),a(1,"span",6),u(2,"\xD7"),s()()}}function Un(i,e){if(i&1&&(We(0),u(1),Ze()),i&2){let n=p(2);l(),T("[",n.duplicatesCount+1,"]")}}function Ln(i,e){if(i&1&&(a(0,"div"),u(1),_(2,Un,2,1,"ng-container",4),s()),i&2){let n=p();N(n.options.titleClass),K("aria-label",n.title),l(),T(" ",n.title," "),l(),c("ngIf",n.duplicatesCount)}}function $n(i,e){if(i&1&&h(0,"div",7),i&2){let n=p();N(n.options.messageClass),c("innerHTML",n.message,we)}}function qn(i,e){if(i&1&&(a(0,"div",8),u(1),s()),i&2){let n=p();N(n.options.messageClass),K("aria-label",n.message),l(),T(" ",n.message," ")}}function zn(i,e){if(i&1&&(a(0,"div"),h(1,"div",9),s()),i&2){let n=p();l(),J("width",n.width()+"%")}}function Wn(i,e){if(i&1){let n=fe();a(0,"button",5),b("click",function(){Q(n);let o=p();return Y(o.remove())}),a(1,"span",6),u(2,"\xD7"),s()()}}function Zn(i,e){if(i&1&&(We(0),u(1),Ze()),i&2){let n=p(2);l(),T("[",n.duplicatesCount+1,"]")}}function Xn(i,e){if(i&1&&(a(0,"div"),u(1),_(2,Zn,2,1,"ng-container",4),s()),i&2){let n=p();N(n.options.titleClass),K("aria-label",n.title),l(),T(" ",n.title," "),l(),c("ngIf",n.duplicatesCount)}}function Qn(i,e){if(i&1&&h(0,"div",7),i&2){let n=p();N(n.options.messageClass),c("innerHTML",n.message,we)}}function Yn(i,e){if(i&1&&(a(0,"div",8),u(1),s()),i&2){let n=p();N(n.options.messageClass),K("aria-label",n.message),l(),T(" ",n.message," ")}}function Kn(i,e){if(i&1&&(a(0,"div"),h(1,"div",9),s()),i&2){let n=p();l(),J("width",n.width()+"%")}}var ct=class{_attachedHost;component;viewContainerRef;injector;constructor(e,n){this.component=e,this.injector=n}attach(e,n){return this._attachedHost=e,e.attach(this,n)}detach(){let e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},ht=class{_attachedPortal;_disposeFn;attach(e,n){return this._attachedPortal=e,this.attachComponentPortal(e,n)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}},pt=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new H;_activate=new H;_manualClose=new H;_resetTimeout=new H;_countDuplicate=new H;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,n){e&&this._resetTimeout.next(),n&&this._countDuplicate.next(++this.duplicatesCount)}},le=class{toastId;config;message;title;toastType;toastRef;_onTap=new H;_onAction=new H;constructor(e,n,t,o,r,d){this.toastId=e,this.config=n,this.message=t,this.title=o,this.toastType=r,this.toastRef=d,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}},Mi={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},Ai=new x("ToastConfig"),mt=class extends ht{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,n,t){super(),this._hostDomElement=e,this._componentFactoryResolver=n,this._appRef=t}attachComponentPortal(e,n){let t=this._componentFactoryResolver.resolveComponentFactory(e.component),o;return o=t.create(e.injector),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.detachView(o.hostView),o.destroy()}),n?this._hostDomElement.insertBefore(this._getComponentRootNode(o),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(o)),o}_getComponentRootNode(e){return e.hostView.rootNodes[0]}},Jn=(()=>{class i{_document=f(Ye);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n=this._document.createElement("div");n.classList.add("overlay-container"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),this._containerElement=n}static \u0275fac=function(t){return new(t||i)};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),ft=class{_portalHost;constructor(e){this._portalHost=e}attach(e,n=!0){return this._portalHost.attach(e,n)}detach(){return this._portalHost.detach()}},eo=(()=>{class i{_overlayContainer=f(Jn);_componentFactoryResolver=f(bt);_appRef=f(Ee);_document=f(Ye);_paneElements=new Map;create(n,t){return this._createOverlayRef(this.getPaneElement(n,t))}getPaneElement(n="",t){return this._paneElements.get(t)||this._paneElements.set(t,{}),this._paneElements.get(t)[n]||(this._paneElements.get(t)[n]=this._createPaneElement(n,t)),this._paneElements.get(t)[n]}_createPaneElement(n,t){let o=this._document.createElement("div");return o.id="toast-container",o.classList.add(n),o.classList.add("toast-container"),t?t.getContainerElement().appendChild(o):this._overlayContainer.getContainerElement().appendChild(o),o}_createPortalHost(n){return new mt(n,this._componentFactoryResolver,this._appRef)}_createOverlayRef(n){return new ft(this._createPortalHost(n))}static \u0275fac=function(t){return new(t||i)};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),xi=(()=>{class i{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(n,t,o,r,d){this.overlay=t,this._injector=o,this.sanitizer=r,this.ngZone=d,this.toastrConfig=C(C({},n.default),n.config),n.config.iconClasses&&(this.toastrConfig.iconClasses=C(C({},n.default.iconClasses),n.config.iconClasses))}show(n,t,o={},r=""){return this._preBuildNotification(r,n,t,this.applyConfig(o))}success(n,t,o={}){let r=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(r,n,t,this.applyConfig(o))}error(n,t,o={}){let r=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(r,n,t,this.applyConfig(o))}info(n,t,o={}){let r=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(r,n,t,this.applyConfig(o))}warning(n,t,o={}){let r=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(r,n,t,this.applyConfig(o))}clear(n){for(let t of this.toasts)if(n!==void 0){if(t.toastId===n){t.toastRef.manualClose();return}}else t.toastRef.manualClose()}remove(n){let t=this._findToast(n);if(!t||(t.activeToast.toastRef.close(),this.toasts.splice(t.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let o=this.toasts[this.currentlyActive].toastRef;o.isInactive()||(this.currentlyActive=this.currentlyActive+1,o.activate())}return!0}findDuplicate(n="",t="",o,r){let{includeTitleDuplicates:d}=this.toastrConfig;for(let m of this.toasts){let D=d&&m.title===n;if((!d||D)&&m.message===t)return m.toastRef.onDuplicate(o,r),m}return null}applyConfig(n={}){return C(C({},this.toastrConfig),n)}_findToast(n){for(let t=0;t<this.toasts.length;t++)if(this.toasts[t].toastId===n)return{index:t,activeToast:this.toasts[t]};return null}_preBuildNotification(n,t,o,r){return r.onActivateTick?this.ngZone.run(()=>this._buildNotification(n,t,o,r)):this._buildNotification(n,t,o,r)}_buildNotification(n,t,o,r){if(!r.toastComponent)throw new Error("toastComponent required");let d=this.findDuplicate(o,t,this.toastrConfig.resetTimeoutOnDuplicate&&r.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&o||t)&&this.toastrConfig.preventDuplicates&&d!==null)return d;this.previousToastMessage=t;let m=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(m=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let D=this.overlay.create(r.positionClass,this.overlayContainer);this.index=this.index+1;let k=t;t&&r.enableHtml&&(k=this.sanitizer.sanitize(Ct.HTML,t));let F=new pt(D),W=new le(this.index,r,k,o,n,F),P=[{provide:le,useValue:W}],be=he.create({providers:P,parent:this._injector}),j=new ct(r.toastComponent,be),ue=D.attach(j,r.newestOnTop);F.componentInstance=ue.instance;let Be={toastId:this.index,title:o||"",message:t||"",toastRef:F,onShown:F.afterActivate(),onHidden:F.afterClosed(),onTap:W.onTap(),onAction:W.onAction(),portal:ue};return m||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Be.toastRef.activate()})),this.toasts.push(Be),Be}static \u0275fac=function(t){return new(t||i)(I(Ai),I(eo),I(he),I(St),I(qe))};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),to=(()=>{class i{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=L(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,t,o){this.toastrService=n,this.toastPackage=t,this.ngZone=o,this.message=t.message,this.title=t.title,this.options=t.config,this.originalTimeout=t.config.timeOut,this.toastClasses=`${t.toastType} ${t.config.toastClass}`,this.sub=t.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=t.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=t.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=t.toastRef.countDuplicate().subscribe(r=>{this.duplicatesCount=r}),this.state=L({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(n=>E(C({},n),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let n=new Date().getTime(),t=this.hideTime-n;this.width.set(t/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(o=>100-o),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(n=>E(C({},n),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(n=>E(C({},n),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(n,t){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(n),t)):this.timeout=setTimeout(()=>n(),t)}outsideInterval(n,t){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(n),t)):this.intervalId=setInterval(()=>n(),t)}runInsideAngular(n){this.ngZone?this.ngZone.run(()=>n()):n()}static \u0275fac=function(t){return new(t||i)(v(xi),v(le),v(qe))};static \u0275cmp=V({type:i,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,o){t&1&&b("click",function(){return o.tapToast()})("mouseenter",function(){return o.stickAround()})("mouseleave",function(){return o.delayedHideToast()}),t&2&&(wt("@flyInOut",o._state),N(o.toastClasses),J("display",o.displayStyle))},standalone:!0,features:[w],attrs:Fi,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,o){t&1&&_(0,Bn,3,0,"button",0)(1,Ln,3,5,"div",1)(2,$n,1,3,"div",2)(3,qn,2,4,"div",3)(4,zn,2,2,"div",4),t&2&&(c("ngIf",o.options.closeButton),l(),c("ngIf",o.title),l(),c("ngIf",o.message&&o.options.enableHtml),l(),c("ngIf",o.message&&!o.options.enableHtml),l(),c("ngIf",o.options.progressBar))},dependencies:[Me],encapsulation:2,data:{animation:[Nt("flyInOut",[Ie("inactive",xe({opacity:0})),Ie("active",xe({opacity:1})),Ie("removed",xe({opacity:0})),Je("inactive => active",Ke("{{ easeTime }}ms {{ easing }}")),Je("active => removed",Ke("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return i})(),io=E(C({},Mi),{toastComponent:to}),Ii=(i={})=>Ue([{provide:Ai,useValue:{default:io,config:i}}]);var no=(()=>{class i{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=L(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=L("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,t,o){this.toastrService=n,this.toastPackage=t,this.appRef=o,this.message=t.message,this.title=t.title,this.options=t.config,this.originalTimeout=t.config.timeOut,this.toastClasses=`${t.toastType} ${t.config.toastClass}`,this.sub=t.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=t.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=t.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=t.toastRef.countDuplicate().subscribe(r=>{this.duplicatesCount=r})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let n=new Date().getTime(),t=this.hideTime-n;this.width.set(t/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(o=>100-o),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(t){return new(t||i)(v(xi),v(le),v(Ee))};static \u0275cmp=V({type:i,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,o){t&1&&b("click",function(){return o.tapToast()})("mouseenter",function(){return o.stickAround()})("mouseleave",function(){return o.delayedHideToast()}),t&2&&(N(o.toastClasses),J("display",o.displayStyle))},standalone:!0,features:[w],attrs:Fi,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,o){t&1&&_(0,Wn,3,0,"button",0)(1,Xn,3,5,"div",1)(2,Qn,1,3,"div",2)(3,Yn,2,4,"div",3)(4,Kn,2,2,"div",4),t&2&&(c("ngIf",o.options.closeButton),l(),c("ngIf",o.title),l(),c("ngIf",o.message&&o.options.enableHtml),l(),c("ngIf",o.message&&!o.options.enableHtml),l(),c("ngIf",o.options.progressBar))},dependencies:[Me],encapsulation:2,changeDetection:0})}return i})(),Tr=E(C({},Mi),{toastComponent:no});var oo=new x("NGX_SPINNER_CONFIG");var Si=(()=>{let e=class e{static forRoot(t){return{ngModule:e,providers:[{provide:oo,useValue:t}]}}};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=X({type:e}),e.\u0275inj=Z({imports:[Mt]});let i=e;return i})();var Ti={providers:[Ht(Ei),Tt(),At(xt()),Ot(),Ii(),yt(Si)]};var ro={providers:[Rt()]},Ni=Ft(Ti,ro);var so=()=>It(Bt,Ni),ys=so;export{ys as a};
